import matplotlib.pyplot as plt
import numpy as np

def plot_topo(locs, name, partition):
    plt.rcParams['font.sans-serif'] = 'SimSun'
    plt.rcParams['font.serif'] = 'Times New Roman'
    plt.rcParams['font.size'] = 11
    plt.figure(figsize=(8, 8))
    plt.rcParams['axes.unicode_minus'] = False

    pos_node = []
    x = []
    y = []
    x_bs = np.array([100,-100,100,-100])
    y_bs = np.array([100,100,-100,-100])
    plt.scatter(x_bs, y_bs, s=21**2, color='r', facecolors='none', marker='s', linewidth=1.3)
    for i in range(len(x_bs)):
        plt.text(x_bs[i]-4, y_bs[i]-2, 'CS'+str(i))
    for i,(xi,yi) in enumerate(locs):
        x.append(xi)
        y.append(yi)
        if i < 9:
            plt.text(xi-1.5, yi-2, str(i+1))
        else:
            plt.text(xi-2.5, yi-2, str(i+1))
    # plt.scatter(x, y, s=15**2, color='black', facecolors='none', linewidth=1.2)
    colors = ["b","g","y"]
    for i,loc in enumerate(partition):
        nloc = np.array(loc)
        plt.scatter(nloc[:,0], nloc[:,1], s=15**2, color=colors[i], facecolors='none', linewidth=1.3)
    plt.xlim((-110,110))
    plt.ylim((-110,110))
    plt.xticks(fontsize=15)
    plt.yticks(fontsize=15)
    plt.savefig(f"topo{name}.png", bbox_inches='tight', pad_inches=0.05, dpi=600)
    return pos_node

# 16-17-17
locs = [(-16, 51), (45, -70), (-16, -36), (14, 32), (1, 84), 
            (11, -86), (77, 85), (-39, -26), (36, 72), (-85, 65), 
            (10, 8), (-51, 50), (-16, 5), (-9, 74), (-72, -32), 
            (91, -48), (-83, -84), (-93, 92), (-88, 33), (78, -19), 
            (79, -83), (-5, -4), (-39, 68), (10, -70), (71, 25), 
            (51, 4), (37, 84), (49, 92), (-28, -64), (-63, -32), 
            (-70, 2), (32, 22), (-29, 7), (-13, 23), (20, -50), 
            (20, -62), (46, 59), (-43, -57), (85, -24), (-85, -50), 
            (27, -87), (-23, -26), (-18, -70), (-31, 56), (87, 28), 
            (8, -93), (-35, -45), (55, -62), (-45, -84), (40, -14)]
locs_green = [[-16, 51], [14, 32], [1, 84], [77, 85], [36, 72], [-85, 65], [10, 8], [-51, 50], [-9, 74], [-93, 92], [-39, 68], [37, 84], [49, 92], [32, 22], [-13, 23], [46, 59], [-31, 56]]
locs_blue = [[45, -70], [11, -86], [91, -48], [78, -19], [79, -83], [10, -70], [71, 25], [51, 4], [20, -50], [20, -62], [85, -24], [27, -87], [87, 28], [8, -93], [55, -62], [40, -14]]
locs_yellow = [[-16, -36], [-39, -26], [-16, 5], [-72, -32], [-83, -84], [-88, 33], [-5, -4], [-28, -64], [-63, -32], [-70, 2], [-29, 7], [-43, -57], [-85, -50], [-23, -26], [-18, -70], [-35, -45], [-45, -84]]
plot_topo(locs, "16-17-17", [locs_blue,locs_green,locs_yellow])

# 16-16-18
locs = [(51, 55), (-12, 92), (39, 62), (-44, 87), (89, 41), 
            (3, 94), (86, 0), (14, -55), (0, 48), (70, -1), 
            (-13, 43), (-58, -31), (-89, 11), (89, 24), (41, 30), 
            (27, -13), (-25, -70), (69, -15), (-50, 16), (-14, -11), 
            (6, -81), (-1, -25), (-45, -55), (-85, 23), (-86, 60), 
            (24, 67), (77, -36), (11, 45), (34, 90), (26, -84), 
            (30, 46), (46, 23), (-14, 51), (-29, -22), (-37, 38), 
            (-68, 29), (-67, 37), (71, -88), (56, 7), (-85, -85), 
            (95, -79), (15, 27), (47, -89), (82, -59), (-49, -15), 
            (33, -46), (-39, -42), (-28, 78), (44, 69), (71, -31)]
locs_green = [[51, 55], [-12, 92], [39, 62], [-44, 87], [89, 41], [3, 94], [0, 48], [-13, 43], [41, 30], [24, 67], [11, 45], [34, 90], [30, 46], [46, 23], [-14, 51], [15, 27], [-28, 78], [44, 69]]
locs_blue = [[86, 0], [14, -55], [70, -1], [89, 24], [27, -13], [69, -15], [6, -81], [77, -36], [26, -84], [71, -88], [56, 7], [95, -79], [47, -89], [82, -59], [33, -46], [71, -31]]
locs_yellow = [[-58, -31], [-89, 11], [-25, -70], [-50, 16], [-14, -11], [-1, -25], [-45, -55], [-85, 23], [-86, 60], [-29, -22], [-37, 38], [-68, 29], [-67, 37], [-85, -85], [-49, -15], [-39, -42]]
plot_topo(locs, "16-16-18", [locs_blue,locs_green,locs_yellow])

# 15-17-18
locs = [(-70, -56), (-30, 14), (-70, 42), (5, -27), (60, -26), 
            (8, 25), (59, 4), (24, 44), (-33, 34), (29, -88), 
            (42, 79), (-14, -27), (62, 65), (-89, -67), (93, 55), 
            (-90, 53), (-53, -28), (2, -74), (51, 20), (92, -57), 
            (19, -69), (-64, 3), (-91, -6), (79, -25), (-95, 25), 
            (-84, 32), (-78, 10), (34, -21), (7, -17), (-5, -88), 
            (3, 59), (-21, 69), (-32, 49), (-62, -71), (-18, -19), 
            (-4, 24), (20, -86), (-6, -17), (-27, -25), (34, -10), 
            (-51, 63), (41, 18), (-49, -20), (-8, -33), (32, 72), 
            (0, 9), (-32, 3), (54, 94), (-34, 74), (-33, 63)]
locs_green = [[-70, -56], [5, -27], [29, -88], [-14, -27], [-89, -67], [-53, -28], [2, -74], [19, -69], [7, -17], [-5, -88], [-62, -71], [-18, -19], [20, -86], [-6, -17], [-27, -25], [-49, -20], [-8, -33]]
locs_blue = [[-30, 14], [-70, 42], [-33, 34], [-90, 53], [-64, 3], [-91, -6], [-95, 25], [-84, 32], [-78, 10], [-21, 69], [-32, 49], [-51, 63], [-32, 3], [-34, 74], [-33, 63]]
locs_yellow = [[60, -26], [8, 25], [59, 4], [24, 44], [42, 79], [62, 65], [93, 55], [51, 20], [92, -57], [79, -25], [34, -21], [3, 59], [-4, 24], [34, -10], [41, 18], [32, 72], [0, 9], [54, 94]]
plot_topo(locs, "15-17-18", [locs_blue,locs_green,locs_yellow])